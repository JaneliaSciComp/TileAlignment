Steps to proceed:
-----------------
1) define environment variable $TA_HOME poining to the full path to this folder
2) in order to run align_multi* exacutable(s), 
   - make sure pastix nd scotch packages have been installed
   - make sure your .bashrc contains the lines:
     export I_MPI_FABRICS=shm:ofa
     export I_MPI_FALLBACK=disable

To build executables:
---------------------
  cd $TA_HOME
  make
The executables align2, align_multi and align_multi_split 
will be created in the $TA_HOME/bin folder

To see the usage of the executables, type their names
(assuming $TA_HOME/bin is included in the PATH)

Example of running executable align2:
-------------------------------------
  cd $TA_HOME/sample_data
  align2 tile_A.tif tile_B.tif -z=0,0  -Ta=1,0,129562,0,1,51127  -Tb=1,0,129562,0,1,52977   -pts_file=stdout   -matchparams_file=align2_params.txt  2> res

Console output:
{
    "matches": {
        "p": [[161.3744,309.6879,658.5862,809.3687,1172.6812,1332.7366,1667.0938,1838.6667,2175.9529,2338.4988],[1945.8984,2062.1443,1941.6962,2063.4812,1947.9454,2057.4863,1942.0104,2056.8889,1944.2388,2058.9648]],
        "q": [[208.0068,351.6940,700.0909,847.4991,1210.3528,1367.8822,1701.3550,1871.1016,2207.1267,2368.5449],[112.4286,226.0385,99.8984,220.2299,101.5851,210.3320,94.0437,209.0851,97.9899,212.9457]],
        "w": [1,1,1,1,1,1,1,1,1,1]
    }
}


Examples of running executables align_multi and align_multi_split:
------------------------------------------------------------------
  qlogin -pe impi 3  -now n

  mpirun -np 3  -machinefile /tmp/*/machines align_multi       ntiles34_axb.mat
or
  mpirun -np 3  -machinefile /tmp/*/machines align_multi_split ntiles34_axb.mat

(the solution will be stored in files x_1.mat, x_2.mat and x_3.mat)

Console output (for align_multi):
MPI_Init_thread level = MPI_THREAD_MULTIPLE
Check : Numbering               OK
Check : Sort CSC                OK
Check : Duplicates              OK
 +--------------------------------------------------------------------+
 +              PaStiX : Parallel Sparse matriX package               +
 +--------------------------------------------------------------------+
  Matrix size                                   204 x 204
  Number of nonzeros in A                       1200
 +--------------------------------------------------------------------+
 +  Options                                                           +
 +--------------------------------------------------------------------+
        Version             :                   5.2.2.22
        SMP_SOPALIN         :                   Defined
        VERSION MPI         :                   Defined
        PASTIX_DYNSCHED     :                   Not defined
        STATS_SOPALIN       :                   Not defined
        NAPA_SOPALIN        :                   Defined
        TEST_IRECV          :                   Not defined
        TEST_ISEND          :                   Defined
        TAG                 :                   Exact Thread
        FORCE_CONSO         :                   Not defined
        RECV_FANIN_OR_BLOCK :                   Not defined
        OUT_OF_CORE         :                   Not defined
        DISTRIBUTED         :                   Defined
        METIS               :                   Not defined
        WITH_SCOTCH         :                   Defined
        INTEGER TYPE        :                   int32_t
        PASTIX_FLOAT TYPE   :                   double
 +--------------------------------------------------------------------+
   Time to compute ordering                     0.00184 s
Time to find the supernode (direct) 7.61e-05 s
Number of supernode for direct factorization 49
Level of fill = -1
Amalgamation ratio = 50
Time to compute scalar symbolic direct factorization  4.34e-05 s
Scalar nnza = 1200 nnzlk = 2549, fillrate0 = 2.12
Time to compute the amalgamation of supernodes 0.000102 s
Number of cblk in the amalgamated symbol matrix = 10
Number of block in the non patched symbol matrix = 30
Number of non zero in the non patched symbol matrix = 3954, fillrate1 3.29
Number of block in final symbol matrix = 30
Number of non zero in final symbol matrix = 3954, fillrate2 3.29
   Time to analyze                              0.000182 s
   Number of nonzeros in factorized matrix      3786
   Fill-in                                      3.155
   Number of operations (LLt)                   104422
   Prediction Time to factorize (AMD 6180  MKL) 8.75e-05 s
   --- Sopalin : Threads are binded                 ---
    - iteration 1 :
         time to solve                          0 s
         total iteration time                   0.00438 s
         error                                  9.0399e-11
    - iteration 2 :
         time to solve                          0 s
         total iteration time                   0.00186 s
         error                                  6.2426e-17
   Static pivoting                              0
   Inertia                                      204
   Time to factorize                            0.0219 s
   FLOPS during factorization                   4.5421 MFLOPS
   Time to solve                                0.000771 s
   Refinement                                   2 iterations, norm=6.24e-17
   Time for refinement                          0.00831 s
Precision : ||ax -b||/||b|| = 187167.80585613768199

