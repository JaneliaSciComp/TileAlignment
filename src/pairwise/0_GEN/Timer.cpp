

#include	"Timer.h"

#include	<unistd.h>






/* --------------------------------------------------------------- */
/* Yield_usec ---------------------------------------------------- */
/* --------------------------------------------------------------- */

void Yield_usec( int microsec )
{
    usleep( microsec );
}

/* --------------------------------------------------------------- */
/* StartTiming --------------------------------------------------- */
/* --------------------------------------------------------------- */

clock_t StartTiming()
{
    struct tms	T;

    return times( &T );
}

/* --------------------------------------------------------------- */
/* DeltaSeconds -------------------------------------------------- */
/* --------------------------------------------------------------- */

double DeltaSeconds( clock_t start )
{
    return
    double(StartTiming() - start) / sysconf(_SC_CLK_TCK);
}

/* --------------------------------------------------------------- */
/* StopTiming ---------------------------------------------------- */
/* --------------------------------------------------------------- */

clock_t StopTiming( FILE *flog, const char *msg, clock_t start )
{
    fprintf( flog, "Timer: %s took %.3f seconds.\n",
    msg, DeltaSeconds( start ) );

    return StartTiming();
}


